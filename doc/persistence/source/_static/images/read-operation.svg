<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="296.86249mm"
   height="301.54114mm"
   viewBox="0 0 296.86249 301.54114"
   version="1.1"
   id="svg1"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1">
    <marker
       id="arrowhead"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon20" />
    </marker>
    <marker
       id="marker1"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon1" />
    </marker>
    <marker
       id="marker2"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon2" />
    </marker>
    <marker
       id="arrowhead-gold"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#b8860b"
         id="polygon22" />
    </marker>
    <marker
       id="marker3"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#b8860b"
         id="polygon3" />
    </marker>
    <marker
       id="arrowhead-gray"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#666666"
         id="polygon21" />
    </marker>
    <marker
       id="marker4"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#b8860b"
         id="polygon4" />
    </marker>
    <marker
       id="marker5"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon5" />
    </marker>
    <marker
       id="marker6"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon6" />
    </marker>
    <marker
       id="marker7"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon7" />
    </marker>
    <marker
       id="marker8"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon8" />
    </marker>
    <marker
       id="marker9"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon9" />
    </marker>
    <marker
       id="marker10"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon10" />
    </marker>
    <marker
       id="marker11"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#666666"
         id="polygon11" />
    </marker>
    <marker
       id="marker12"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#b8860b"
         id="polygon12" />
    </marker>
    <marker
       id="marker13"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#666666"
         id="polygon13" />
    </marker>
    <marker
       id="marker14"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#666666"
         id="polygon14" />
    </marker>
    <marker
       id="marker15"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#b8860b"
         id="polygon15" />
    </marker>
    <marker
       id="marker16"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#666666"
         id="polygon16" />
    </marker>
    <marker
       id="marker17"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#b8860b"
         id="polygon17" />
    </marker>
    <marker
       id="marker18"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon18" />
    </marker>
    <marker
       id="marker19"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon19" />
    </marker>
    <marker
       id="marker23"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon23" />
    </marker>
    <marker
       id="marker24"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon24" />
    </marker>
    <marker
       id="marker25"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon25" />
    </marker>
    <marker
       id="marker26"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon26" />
    </marker>
    <marker
       id="marker27"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon27" />
    </marker>
    <marker
       id="marker28"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon28" />
    </marker>
    <marker
       id="marker29"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0,6 0,0 10,3 "
         fill="#000000"
         id="polygon29" />
    </marker>
  </defs>
  <g
     id="layer1"
     transform="translate(34.131252,-2.3812457)">
    <text
       x="98.424995"
       y="8.8139305"
       font-size="8.46667px"
       font-weight="bold"
       fill="#d2691e"
       text-anchor="middle"
       id="text1"
       style="stroke-width:0.264583">FORM: Read Operation</text>
    <rect
       x="5.8208308"
       y="18.074348"
       width="195.79167"
       height="211.66666"
       fill="none"
       stroke="#ff0000"
       stroke-width="0.79375"
       stroke-dasharray="10, 5"
       id="rect1" />
    <text
       x="103.71667"
       y="16.751431"
       font-size="3.70417px"
       font-weight="bold"
       fill="#ff0000"
       text-anchor="middle"
       id="text2"
       style="stroke-width:0.264583">FORM Boundary</text>
    <rect
       x="-33.866669"
       y="23.366014"
       width="31.75"
       height="15.875"
       fill="#ffe4b5"
       stroke="#ff8c00"
       stroke-width="0.529167"
       id="rect2" />
    <text
       x="-17.991669"
       y="32.626431"
       font-size="4.23333px"
       font-weight="bold"
       text-anchor="middle"
       id="text3"
       style="stroke-width:0.264583">PHLEX</text>
    <rect
       x="11.112498"
       y="23.366014"
       width="37.041668"
       height="15.875"
       fill="#add8e6"
       stroke="#4682b4"
       stroke-width="0.529167"
       id="rect3" />
    <text
       x="29.633333"
       y="31.303514"
       font-size="3.70417px"
       font-weight="bold"
       text-anchor="middle"
       id="text4"
       style="stroke-width:0.264583">form_interface</text>
    <text
       x="29.633333"
       y="36.066017"
       font-size="3.175px"
       text-anchor="middle"
       id="text5"
       style="stroke-width:0.264583">(form.cpp)</text>
    <rect
       x="61.383331"
       y="23.366014"
       width="37.041668"
       height="15.875"
       fill="#dda0dd"
       stroke="#9370db"
       stroke-width="0.529167"
       id="rect5" />
    <text
       x="79.904167"
       y="31.303514"
       font-size="3.70417px"
       font-weight="bold"
       text-anchor="middle"
       id="text6"
       style="stroke-width:0.264583">Persistence</text>
    <text
       x="79.904167"
       y="36.066017"
       font-size="3.175px"
       text-anchor="middle"
       id="text7"
       style="stroke-width:0.264583">(persistence.cpp)</text>
    <rect
       x="111.65416"
       y="23.366014"
       width="37.041668"
       height="15.875"
       fill="#98fb98"
       stroke="#228b22"
       stroke-width="0.529167"
       id="rect7" />
    <text
       x="130.17499"
       y="31.303514"
       font-size="3.70417px"
       font-weight="bold"
       text-anchor="middle"
       id="text8"
       style="stroke-width:0.264583">Storage</text>
    <text
       x="130.17499"
       y="36.066017"
       font-size="3.175px"
       text-anchor="middle"
       id="text9"
       style="stroke-width:0.264583">(storage.cpp)</text>
    <rect
       x="161.92499"
       y="23.366014"
       width="39.6875"
       height="15.875"
       fill="#ffd700"
       stroke="#b8860b"
       stroke-width="0.529167"
       id="rect9" />
    <text
       x="181.76874"
       y="28.657681"
       font-size="3.43958px"
       font-weight="bold"
       text-anchor="middle"
       id="text10"
       style="stroke-width:0.264583">ROOT Implementation</text>
    <text
       x="181.76874"
       y="33.155598"
       font-size="2.64583px"
       text-anchor="middle"
       id="text11"
       style="stroke-width:0.264583">ROOT_TFileImp</text>
    <text
       x="181.76874"
       y="37.124348"
       font-size="2.64583px"
       text-anchor="middle"
       id="text12"
       style="stroke-width:0.264583">ROOT_TTreeContainerImp</text>
    <rect
       x="214.84166"
       y="23.366014"
       width="47.625"
       height="15.875"
       fill="#d3d3d3"
       stroke="#808080"
       stroke-width="0.529167"
       id="rect12" />
    <text
       x="238.65416"
       y="28.657681"
       font-size="3.70417px"
       font-weight="bold"
       text-anchor="middle"
       id="text13"
       style="stroke-width:0.264583">Physical Backend</text>
    <text
       x="238.65416"
       y="33.155598"
       font-size="2.91042px"
       text-anchor="middle"
       fill="#666666"
       id="text14"
       style="stroke-width:0.264583">(External Libraries)</text>
    <text
       x="238.65416"
       y="37.388931"
       font-size="2.64583px"
       text-anchor="middle"
       fill="#666666"
       id="text15"
       style="stroke-width:0.264583">ROOT TTree/RNTuple, HDF5</text>
    <line
       x1="-17.991669"
       y1="39.241016"
       x2="-17.991669"
       y2="235.03267"
       stroke="#666666"
       stroke-width="0.529167"
       stroke-dasharray="5, 5"
       id="line15" />
    <line
       x1="29.633333"
       y1="39.241016"
       x2="29.633333"
       y2="235.03267"
       stroke="#666666"
       stroke-width="0.529167"
       stroke-dasharray="5, 5"
       id="line16" />
    <line
       x1="79.904167"
       y1="39.241016"
       x2="79.904167"
       y2="235.03267"
       stroke="#666666"
       stroke-width="0.529167"
       stroke-dasharray="5, 5"
       id="line17" />
    <line
       x1="130.17499"
       y1="39.241016"
       x2="130.17499"
       y2="235.03267"
       stroke="#666666"
       stroke-width="0.529167"
       stroke-dasharray="5, 5"
       id="line18" />
    <line
       x1="181.76874"
       y1="39.241016"
       x2="181.76874"
       y2="235.03267"
       stroke="#b8860b"
       stroke-width="0.529167"
       stroke-dasharray="5, 5"
       id="line19" />
    <line
       x1="238.65416"
       y1="39.241016"
       x2="238.65416"
       y2="235.03267"
       stroke="#999999"
       stroke-width="0.529167"
       stroke-dasharray="5, 5"
       id="line20" />
    <rect
       x="-20.637497"
       y="45.855598"
       width="5.2916665"
       height="183.88542"
       fill="#ffe4b5"
       stroke="#ff8c00"
       stroke-width="0.264583"
       id="rect22" />
    <line
       x1="-17.991669"
       y1="48.501431"
       x2="26.987499"
       y2="48.501431"
       stroke="#000000"
       stroke-width="0.529167"
       marker-end="url(#arrowhead)"
       id="line22" />
    <text
       x="-15.345834"
       y="47.178516"
       font-size="3.175px"
       fill="#000000"
       id="text22"
       style="stroke-width:0.264583">read(creator, product_base&amp;)</text>
    <text
       x="-15.345834"
       y="51.67643"
       font-size="2.64583px"
       fill="#666666"
       id="text23"
       style="stroke-width:0.264583">[pb: label, id, data*, type]</text>
    <rect
       x="26.987499"
       y="45.855598"
       width="5.2916665"
       height="183.88542"
       fill="#add8e6"
       stroke="#4682b4"
       stroke-width="0.264583"
       id="rect23" />
    <line
       x1="29.633333"
       y1="59.084766"
       x2="28.310417"
       y2="59.084766"
       stroke="#4169e1"
       stroke-width="0.529167"
       marker-end="url(#arrowhead)"
       id="line23" />
    <text
       x="25.664581"
       y="57.761848"
       font-size="2.64583px"
       fill="#4169e1"
       text-anchor="end"
       id="text24"
       style="stroke-width:0.264583">findItem(pb.label)</text>
    <text
       x="25.664581"
       y="61.201431"
       font-size="2.38125px"
       fill="#666666"
       text-anchor="end"
       id="text25"
       style="stroke-width:0.264583">[O(1) lookup in m_product_to_config]</text>
    <line
       x1="29.633333"
       y1="67.022263"
       x2="77.258331"
       y2="67.022263"
       stroke="#000000"
       stroke-width="0.529167"
       marker-end="url(#arrowhead)"
       id="line25" />
    <text
       x="32.279163"
       y="65.699348"
       font-size="2.91042px"
       fill="#000000"
       id="text26"
       style="stroke-width:0.264583">read(creator, label, id, &amp;data, type)</text>
    <rect
       x="77.258331"
       y="67.022263"
       width="5.2916665"
       height="158.75"
       fill="#dda0dd"
       stroke="#9370db"
       stroke-width="0.264583"
       id="rect26" />
    <line
       x1="79.904167"
       y1="74.959763"
       x2="78.581245"
       y2="74.959763"
       stroke="#4169e1"
       stroke-width="0.529167"
       marker-end="url(#arrowhead)"
       id="line26" />
    <text
       x="75.935417"
       y="73.636848"
       font-size="2.64583px"
       fill="#4169e1"
       text-anchor="end"
       id="text27"
       style="stroke-width:0.264583">getToken(creator, label, id)</text>
    <line
       x1="79.904167"
       y1="80.251434"
       x2="78.581245"
       y2="80.251434"
       stroke="#9370db"
       stroke-width="0.264583"
       marker-end="url(#arrowhead)"
       stroke-dasharray="3, 2"
       id="line27" />
    <text
       x="75.935417"
       y="78.928513"
       font-size="2.38125px"
       fill="#666666"
       text-anchor="end"
       id="text28"
       style="stroke-width:0.264583">findConfigItem(label)</text>
    <line
       x1="79.904167"
       y1="84.220184"
       x2="78.581245"
       y2="84.220184"
       stroke="#9370db"
       stroke-width="0.264583"
       marker-end="url(#arrowhead)"
       stroke-dasharray="3, 2"
       id="line28" />
    <text
       x="75.935417"
       y="82.897263"
       font-size="2.38125px"
       fill="#666666"
       text-anchor="end"
       id="text29"
       style="stroke-width:0.264583">buildFullLabel(creator, label) → &quot;creator/label&quot;</text>
    <line
       x1="79.904167"
       y1="92.157684"
       x2="127.52917"
       y2="92.157684"
       stroke="#000000"
       stroke-width="0.529167"
       marker-end="url(#arrowhead)"
       id="line29" />
    <text
       x="82.549995"
       y="90.834763"
       font-size="2.91042px"
       fill="#000000"
       id="text30"
       style="stroke-width:0.264583">getIndex(token_index, id, settings)</text>
    <rect
       x="127.52917"
       y="92.157684"
       width="5.2916665"
       height="85.989586"
       fill="#98fb98"
       stroke="#228b22"
       stroke-width="0.264583"
       id="rect30" />
    <line
       x1="130.17499"
       y1="98.772263"
       x2="128.85208"
       y2="98.772263"
       stroke="#228b22"
       stroke-width="0.264583"
       marker-end="url(#arrowhead)"
       stroke-dasharray="2, 2"
       id="line30" />
    <text
       x="126.20625"
       y="97.449348"
       font-size="2.38125px"
       fill="#228b22"
       text-anchor="end"
       id="text31"
       style="stroke-width:0.264583">if (m_indexMaps[containerName].empty())</text>
    <line
       x1="130.17499"
       y1="105.38685"
       x2="128.85208"
       y2="105.38685"
       stroke="#228b22"
       stroke-width="0.264583"
       marker-end="url(#arrowhead)"
       stroke-dasharray="2, 2"
       id="line31" />
    <text
       x="126.20625"
       y="104.06393"
       font-size="2.38125px"
       fill="#228b22"
       text-anchor="end"
       id="text32"
       style="stroke-width:0.264583">m_files.find(fileName) → create if missing</text>
    <line
       x1="130.17499"
       y1="112.00143"
       x2="179.12291"
       y2="112.00143"
       stroke="#b8860b"
       stroke-width="0.529167"
       marker-end="url(#arrowhead-gold)"
       id="line32" />
    <text
       x="132.82083"
       y="110.67851"
       font-size="2.64583px"
       fill="#b8860b"
       id="text33"
       style="stroke-width:0.264583">ROOT_TFileImp::open()</text>
    <rect
       x="179.12291"
       y="112.00143"
       width="5.2916665"
       height="7.9375"
       fill="#ffd700"
       stroke="#b8860b"
       stroke-width="0.264583"
       id="rect33" />
    <line
       x1="184.41457"
       y1="114.64726"
       x2="236.00832"
       y2="114.64726"
       stroke="#666666"
       stroke-width="0.529167"
       marker-end="url(#arrowhead-gray)"
       id="line33" />
    <text
       x="187.06041"
       y="113.32435"
       font-size="2.64583px"
       fill="#666666"
       id="text34"
       style="stroke-width:0.264583">TFile::Open(&quot;READ&quot;)</text>
    <rect
       x="236.00832"
       y="114.64726"
       width="5.2916665"
       height="5.2916665"
       fill="#d3d3d3"
       stroke="#808080"
       stroke-width="0.264583"
       id="rect34" />
    <line
       x1="130.17499"
       y1="123.90768"
       x2="179.12291"
       y2="123.90768"
       stroke="#b8860b"
       stroke-width="0.529167"
       marker-end="url(#arrowhead-gold)"
       id="line34" />
    <text
       x="132.82083"
       y="122.58477"
       font-size="2.64583px"
       fill="#b8860b"
       id="text35"
       style="stroke-width:0.264583">ROOT_TTreeContainerImp::open()</text>
    <rect
       x="179.12291"
       y="123.90768"
       width="5.2916665"
       height="15.875"
       fill="#ffd700"
       stroke="#b8860b"
       stroke-width="0.264583"
       id="rect35" />
    <line
       x1="184.41457"
       y1="127.87643"
       x2="236.00832"
       y2="127.87643"
       stroke="#666666"
       stroke-width="0.529167"
       marker-end="url(#arrowhead-gray)"
       id="line35" />
    <text
       x="187.06041"
       y="126.55352"
       font-size="2.64583px"
       fill="#666666"
       id="text36"
       style="stroke-width:0.264583">file-&gt;Get(&quot;TreeName&quot;)</text>
    <rect
       x="236.00832"
       y="127.87643"
       width="5.2916665"
       height="9.260417"
       fill="#d3d3d3"
       stroke="#808080"
       stroke-width="0.264583"
       id="rect36" />
    <line
       x1="184.41457"
       y1="135.81393"
       x2="236.00832"
       y2="135.81393"
       stroke="#666666"
       stroke-width="0.529167"
       marker-end="url(#arrowhead-gray)"
       id="line36" />
    <text
       x="187.06041"
       y="134.49101"
       font-size="2.38125px"
       fill="#666666"
       id="text37"
       style="stroke-width:0.264583">SetBranchAddress() / GetBranch()</text>
    <rect
       x="127.52917"
       y="143.75143"
       width="5.2916665"
       height="30.427082"
       fill="#e0ffe0"
       stroke="#228b22"
       stroke-width="0.529167"
       id="rect37" />
    <text
       x="126.20625"
       y="149.04309"
       font-size="2.64583px"
       font-weight="bold"
       fill="#228b22"
       text-anchor="end"
       id="text38"
       style="stroke-width:0.264583">Build index (first read only):</text>
    <text
       x="126.20625"
       y="153.01184"
       font-size="2.38125px"
       fill="#228b22"
       text-anchor="end"
       id="text39"
       style="stroke-width:0.264583">while(entry++ &lt; nEntries):</text>
    <line
       x1="130.17499"
       y1="158.30351"
       x2="179.12291"
       y2="158.30351"
       stroke="#b8860b"
       stroke-width="0.529167"
       marker-end="url(#arrowhead-gold)"
       id="line39" />
    <text
       x="132.82083"
       y="156.98059"
       font-size="2.38125px"
       fill="#b8860b"
       id="text40"
       style="stroke-width:0.264583">container-&gt;readEntry(entry)</text>
    <rect
       x="179.12291"
       y="158.30351"
       width="5.2916665"
       height="7.9375"
       fill="#ffd700"
       stroke="#b8860b"
       stroke-width="0.264583"
       id="rect40" />
    <line
       x1="184.41457"
       y1="160.94934"
       x2="236.00832"
       y2="160.94934"
       stroke="#666666"
       stroke-width="0.529167"
       marker-end="url(#arrowhead-gray)"
       id="line40" />
    <text
       x="187.06041"
       y="159.62642"
       font-size="2.38125px"
       fill="#666666"
       id="text41"
       style="stroke-width:0.264583">TTree-&gt;GetEntry(entry)</text>
    <rect
       x="236.00832"
       y="160.94934"
       width="5.2916665"
       height="5.2916665"
       fill="#d3d3d3"
       stroke="#808080"
       stroke-width="0.264583"
       id="rect41" />
    <line
       x1="130.17499"
       y1="170.20976"
       x2="128.85208"
       y2="170.20976"
       stroke="#228b22"
       stroke-width="0.264583"
       marker-end="url(#arrowhead)"
       stroke-dasharray="2, 2"
       id="line41" />
    <text
       x="126.20625"
       y="168.88684"
       font-size="2.38125px"
       fill="#228b22"
       text-anchor="end"
       id="text42"
       style="stroke-width:0.264583">m_indexMaps[containerName][id_string] = entry</text>
    <line
       x1="130.17499"
       y1="175.50142"
       x2="128.85208"
       y2="175.50142"
       stroke="#228b22"
       stroke-width="0.529167"
       marker-end="url(#arrowhead)"
       id="line42" />
    <text
       x="126.20625"
       y="174.17851"
       font-size="2.64583px"
       fill="#228b22"
       text-anchor="end"
       id="text43"
       style="stroke-width:0.264583">rowId = m_indexMaps[containerName][id]</text>
    <line
       x1="127.52917"
       y1="180.79309"
       x2="79.904167"
       y2="180.79309"
       stroke="#228b22"
       stroke-width="0.529167"
       stroke-dasharray="5, 3"
       marker-end="url(#arrowhead)"
       id="line43" />
    <text
       x="103.71667"
       y="179.47017"
       font-size="2.64583px"
       fill="#228b22"
       text-anchor="middle"
       id="text44"
       style="stroke-width:0.264583">return rowId</text>
    <line
       x1="79.904167"
       y1="187.40767"
       x2="78.581245"
       y2="187.40767"
       stroke="#4169e1"
       stroke-width="0.529167"
       marker-end="url(#arrowhead)"
       id="line44" />
    <text
       x="75.935417"
       y="186.08476"
       font-size="2.64583px"
       fill="#4169e1"
       text-anchor="end"
       id="text45"
       style="stroke-width:0.264583">Token{fileName, full_label, tech, rowId}</text>
    <line
       x1="79.904167"
       y1="195.34517"
       x2="127.52917"
       y2="195.34517"
       stroke="#000000"
       stroke-width="0.529167"
       marker-end="url(#arrowhead)"
       id="line45" />
    <text
       x="82.549995"
       y="194.02226"
       font-size="2.91042px"
       fill="#000000"
       id="text46"
       style="stroke-width:0.264583">readContainer(token, &amp;data, type, *settings)</text>
    <rect
       x="127.52917"
       y="195.34517"
       width="5.2916665"
       height="29.104166"
       fill="#98fb98"
       stroke="#228b22"
       stroke-width="0.264583"
       id="rect46" />
    <line
       x1="130.17499"
       y1="200.63684"
       x2="128.85208"
       y2="200.63684"
       stroke="#228b22"
       stroke-width="0.264583"
       marker-end="url(#arrowhead)"
       stroke-dasharray="2, 2"
       id="line46" />
    <text
       x="126.20625"
       y="199.31392"
       font-size="2.38125px"
       fill="#228b22"
       text-anchor="end"
       id="text47"
       style="stroke-width:0.264583">m_containers.find(token.fileName, token.containerName)</text>
    <line
       x1="130.17499"
       y1="208.57434"
       x2="179.12291"
       y2="208.57434"
       stroke="#b8860b"
       stroke-width="0.529167"
       marker-end="url(#arrowhead-gold)"
       id="line47" />
    <text
       x="132.82083"
       y="207.25142"
       font-size="2.64583px"
       fill="#b8860b"
       id="text48"
       style="stroke-width:0.264583">container-&gt;read(rowId)</text>
    <rect
       x="179.12291"
       y="208.57434"
       width="5.2916665"
       height="11.90625"
       fill="#ffd700"
       stroke="#b8860b"
       stroke-width="0.264583"
       id="rect48" />
    <line
       x1="184.41457"
       y1="212.54309"
       x2="236.00832"
       y2="212.54309"
       stroke="#666666"
       stroke-width="0.529167"
       marker-end="url(#arrowhead-gray)"
       id="line48" />
    <text
       x="187.06041"
       y="211.22017"
       font-size="2.64583px"
       fill="#666666"
       id="text49"
       style="stroke-width:0.264583">TTree-&gt;GetEntry(rowId)</text>
    <rect
       x="236.00832"
       y="212.54309"
       width="5.2916665"
       height="5.2916665"
       fill="#d3d3d3"
       stroke="#808080"
       stroke-width="0.264583"
       id="rect49" />
    <line
       x1="184.41457"
       y1="219.15767"
       x2="181.76874"
       y2="219.15767"
       stroke="#b8860b"
       stroke-width="0.264583"
       marker-end="url(#arrowhead-gold)"
       stroke-dasharray="2, 2"
       id="line49" />
    <text
       x="180.44582"
       y="217.83476"
       font-size="2.38125px"
       fill="#b8860b"
       text-anchor="end"
       id="text50"
       style="stroke-width:0.264583">copy data to buffer</text>
    <line
       x1="179.12291"
       y1="223.12642"
       x2="130.17499"
       y2="223.12642"
       stroke="#b8860b"
       stroke-width="0.529167"
       stroke-dasharray="5, 3"
       marker-end="url(#arrowhead-gold)"
       id="line50" />
    <text
       x="154.78125"
       y="221.80351"
       font-size="2.38125px"
       fill="#b8860b"
       text-anchor="middle"
       id="text51"
       style="stroke-width:0.264583">void* data</text>
    <line
       x1="127.52917"
       y1="225.77226"
       x2="79.904167"
       y2="225.77226"
       stroke="#228b22"
       stroke-width="0.529167"
       stroke-dasharray="5, 3"
       marker-end="url(#arrowhead)"
       id="line51" />
    <text
       x="103.71667"
       y="224.44934"
       font-size="2.64583px"
       fill="#228b22"
       text-anchor="middle"
       id="text52"
       style="stroke-width:0.264583">void* data, type</text>
    <line
       x1="77.258331"
       y1="228.41809"
       x2="29.633333"
       y2="228.41809"
       stroke="#9370db"
       stroke-width="0.529167"
       stroke-dasharray="5, 3"
       marker-end="url(#arrowhead)"
       id="line52" />
    <text
       x="53.445831"
       y="227.09517"
       font-size="2.64583px"
       fill="#9370db"
       text-anchor="middle"
       id="text53"
       style="stroke-width:0.264583">void</text>
    <line
       x1="26.987499"
       y1="231.06392"
       x2="-17.991669"
       y2="231.06392"
       stroke="#4682b4"
       stroke-width="0.529167"
       stroke-dasharray="5, 3"
       marker-end="url(#arrowhead)"
       id="line53" />
    <text
       x="4.4979167"
       y="229.74101"
       font-size="2.91042px"
       fill="#4682b4"
       text-anchor="middle"
       id="text54"
       style="stroke-width:0.264583">pb.data updated</text>
    <text
       x="4.4979167"
       y="233.18059"
       font-size="2.38125px"
       fill="#666666"
       text-anchor="middle"
       id="text55"
       style="stroke-width:0.264583">[PHLEX casts: static_cast&lt;T*&gt;(pb.data)]</text>
    <text
       x="304.79999"
       y="176.29518"
       font-size="2.38125px"
       id="text82"
       style="stroke-width:0.264583" />
    <rect
       x="-29.77755"
       y="241.22246"
       width="79.555099"
       height="53.555099"
       fill="#fffacd"
       stroke="#daa520"
       stroke-width="0.444901"
       id="rect55" />
    <text
       x="-27.089581"
       y="246.32707"
       font-size="3.175px"
       font-weight="bold"
       id="text56"
       style="stroke-width:0.264583">Storage Layer - Read Details:</text>
    <text
       x="-27.089581"
       y="251.61874"
       font-size="2.64583px"
       id="text57"
       style="stroke-width:0.264583">• m_files: Lazy open on first read</text>
    <text
       x="-27.089581"
       y="255.58749"
       font-size="2.64583px"
       id="text58"
       style="stroke-width:0.264583">• m_containers: Cached after creation</text>
    <text
       x="-27.089581"
       y="259.55624"
       font-size="2.64583px"
       id="text59"
       style="stroke-width:0.264583">• m_indexMaps[containerName][id_string] = rowId</text>
    <text
       x="-27.089581"
       y="263.52499"
       font-size="2.64583px"
       id="text60"
       style="stroke-width:0.264583">• Built once by scanning index container</text>
    <text
       x="-27.089581"
       y="267.49374"
       font-size="2.64583px"
       id="text61"
       style="stroke-width:0.264583">- Cached for subsequent reads</text>
    <text
       x="-27.089581"
       y="271.46249"
       font-size="2.64583px"
       id="text62"
       style="stroke-width:0.264583">• Mode 'i' = input/read mode</text>
    <text
       x="-27.089581"
       y="275.43124"
       font-size="2.64583px"
       id="text63"
       style="stroke-width:0.264583">• Composite key lookup: (fileName, containerName)</text>
    <text
       x="-27.089581"
       y="279.39999"
       font-size="2.64583px"
       id="text64"
       style="stroke-width:0.264583">• New memory allocated for each read</text>
    <text
       x="-27.089581"
       y="283.36874"
       font-size="2.64583px"
       id="text65"
       style="stroke-width:0.264583">• PHLEX responsible for delete</text>
    <text
       x="-27.089581"
       y="287.33749"
       font-size="2.64583px"
       id="text66"
       style="stroke-width:0.264583">• Type string verified during read</text>
    <text
       x="-27.089581"
       y="291.30624"
       font-size="2.64583px"
       id="text67"
       style="stroke-width:0.264583">• NO LOOP: PHLEX calls read() once per request</text>
    <rect
       x="60.224083"
       y="246.22409"
       width="79.551834"
       height="41.091419"
       fill="#fff5e6"
       stroke="#b8860b"
       stroke-width="0.448167"
       id="rect67" />
    <text
       x="62.910419"
       y="251.47084"
       font-size="2.91042px"
       font-weight="bold"
       fill="#b8860b"
       id="text68"
       style="stroke-width:0.264583">ROOT Implementation Layer (NEW):</text>
    <text
       x="62.910419"
       y="256.23334"
       font-size="2.38125px"
       id="text69"
       style="stroke-width:0.264583">• ROOT_TFileImp: Implements IStorage_File interface</text>
    <text
       x="62.910419"
       y="260.20209"
       font-size="2.38125px"
       id="text70"
       style="stroke-width:0.264583">- Wraps ROOT's TFile class</text>
    <text
       x="62.910419"
       y="264.17084"
       font-size="2.38125px"
       id="text71"
       style="stroke-width:0.264583">- Manages file opening, mode switching</text>
    <text
       x="62.910419"
       y="268.13959"
       font-size="2.38125px"
       id="text72"
       style="stroke-width:0.264583">• ROOT_TTreeContainerImp: Implements IStorage_Container</text>
    <text
       x="62.910419"
       y="272.10834"
       font-size="2.38125px"
       id="text73"
       style="stroke-width:0.264583">- Wraps ROOT's TTree/TBranch classes</text>
    <text
       x="62.910419"
       y="276.07709"
       font-size="2.38125px"
       id="text74"
       style="stroke-width:0.264583">- Handles GetEntry(), SetBranchAddress()</text>
    <text
       x="62.910419"
       y="280.04584"
       font-size="2.38125px"
       id="text75"
       style="stroke-width:0.264583">• ROOT_TBranch_ContainerImp: For individual branches</text>
    <text
       x="62.910419"
       y="284.01459"
       font-size="2.38125px"
       id="text76"
       style="stroke-width:0.264583">• This layer translates FORM storage calls → ROOT API calls</text>
    <rect
       x="150.23764"
       y="246.23764"
       width="89.524727"
       height="41.064312"
       fill="#ffe4e1"
       stroke="#dc143c"
       stroke-width="0.475273"
       id="rect76" />
    <text
       x="152.91042"
       y="251.55624"
       font-size="2.91042px"
       font-weight="bold"
       fill="#8b0000"
       id="text77"
       style="stroke-width:0.264583">Two-Step Index Lookup:</text>
    <text
       x="152.91042"
       y="256.31873"
       font-size="2.38125px"
       id="text78"
       style="stroke-width:0.264583">Step 1: Build index map (first read only)</text>
    <text
       x="152.91042"
       y="260.28748"
       font-size="2.38125px"
       id="text79"
       style="stroke-width:0.264583">• Read all entries from &quot;creator/index&quot; container</text>
    <text
       x="152.91042"
       y="264.25623"
       font-size="2.38125px"
       id="text80"
       style="stroke-width:0.264583">• Each entry contains ID string: &quot;[EVENT=00000001|SEG=00000005]&quot;</text>
    <text
       x="152.91042"
       y="268.22498"
       font-size="2.38125px"
       id="text81"
       style="stroke-width:0.264583">• Map: m_indexMaps[&quot;Toy_Tracker/index&quot;][id_string] = entry_num</text>
    <text
       x="152.91042"
       y="276.16248"
       font-size="2.38125px"
       id="text83"
       style="stroke-width:0.264583">Step 2: Lookup rowId from ID</text>
    <text
       x="152.91042"
       y="280.13123"
       font-size="2.38125px"
       id="text84"
       style="stroke-width:0.264583">• Given semantic ID, get physical entry number</text>
    <text
       x="152.91042"
       y="284.09998"
       font-size="2.38125px"
       id="text85"
       style="stroke-width:0.264583">• Use rowId to read actual data container</text>
    <text
       x="106.27866"
       y="303.32126"
       font-size="2.91042px"
       fill="#666666"
       text-anchor="middle"
       id="text86"
       style="stroke-width:0.264583">FORM Read Operation | PHLEX → FORM (form_interface → persistence.cpp → storage.cpp) → ROOT Impl → External (ROOT/HDF5)</text>
  </g>
</svg>
