| Requirements ID   | Name                                                | Summary                                                                                                                                             | How it relates to Accelerator Integration Effort                                                                                                                                                                                                                                                                                                                                                                                                                                                | Need clarification statement                                                                                                                                                                                                                                                                                               |
|:------------------|:----------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DUNE_STKH-2       | Data Product Representations                        | Framework shall separate the persistent representations of the data products from their in memory representations (that are seen by the algorithms) | Algorithms must depend on the in memory format. Memory representations could be transformed into Accelerator friendly ones.                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                            |
| DUNE_STKH-9       | Algorithm hardware requirements                     | Framework shall provide an API allowing users to express algorithm's hardware requirements                                                          | Requirements refer to requirements like number of CPUs, GPU resources, memory requirements etc.  This requirement addresses how algorithms can specify and utilize GPU resources (enabling GPU resource, formalizing resources for GPUs via the framework provided API, manage resource allocation efficiently).                                                                                                                                                                                | Different GPUs have different tools for diagnostics within the device. Diagnotics also falls under error handling related requirement but API support for different hardware could be the foundational to develop tools by users that facilitate different tools for different GPU architecture.                           |
| DUNE_STKH-10      | CPU usage                                           | Framework shall support multiple running algorithms that require multiple GPUs                                                                      | GPUs are leveraged for acceleration in a heterogeneous (CPU+GPU) computing. Algorithms and data models designed for accelerations still need CPus to feed them accelerators with data and handle outputs.                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                            |
| DUNE_STKH-11      | GPU usage                                           | Algorithm can use a GPU                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                            |
| DUNE_STKH-42      | Remote GPU algorithm support                        | Framework shall support algorithms that perform calculations using a remote GPU                                                                     | Algorithms that might use remote GPUs (GPUAAs?) will have to be written to leverage framework APIs that facilitates the remote GPU machines usage. See the discussion in STKH_35 for some context                                                                                                                                                                                                                                                                                               | See discussion in DUNE_STKH-35 on how the framework will have to support external data coming from remote GPUs (one of the many external sources)                                                                                                                                                                          |
| DUNE_STKH-41      | Local GPU algorithm support                         | Framework shall support algorithms that perform calculations using a local GPU                                                                      | GPUs are dedicated sources instead of being used as service                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                            |
| DUNE_STKH-13      | Shut down upon unmet algorithm hardware requirement | If the framework fails to meet each specified hardware requirement, it shall shut down.                                                             | If an algorithm specifies that it needs GPU resources and its requirements are not met, the framework will shut down.                                                                                                                                                                                                                                                                                                                                                                           | Tasks that need acceleration should specify the GPU resources and other framework parameters clearly to avoid shut down. Developers writing accelerated tasks  should be aware of resources that are supported by the framework. Related to it DUNE_STKH-112 (Emit diagnostics upon unmet algorithm hardware requirements) |
| DUNE_STKH-22      | Flexible Data units                                 | Framework shall support flexbly defined, context aware processing units to address varying granularity for different data types.                    | This requirement enables the framework to support FPU. This flexiblity allows the definition and creation of data products, sets, families etc. Algorithms that leverage accelerators should utilize this requirement such that desigend data are optimal for Accelerators. As mentioned in DUNE_STKH-2, the framework allows to manage the in-memory representations of the data. Such in-memory representations could be optimized for accelerators for algorithms that utilize accelerators. | Data management like transformations etc should be done within the FPU scope(?)                                                                                                                                                                                                                                            |
| DUNE_STKH-29      | Reproducible and deterministic results              | Framework must be capable of running across a wide range of present hardware (CPUs and GPUs) in a reproducible and deterministic fashion.           | Algorithms and data that leverage accelerators must produce identical results given identical inputs and configurations.                                                                                                                                                                                                                                                                                                                                                                        | From the perspective of accelerator integration, the data itself and the algorithm should provide information and parameters that is machine agnostic (architecture agnostic)?                                                                                                                                             |
